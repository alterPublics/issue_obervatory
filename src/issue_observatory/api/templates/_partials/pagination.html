{#
    Cursor-based pagination controls.
    Expects context variables:
        - next_cursor (str|None): opaque cursor for the next page
        - prev_cursor (str|None): opaque cursor for the previous page
        - hx_target   (str):     CSS selector for the HTMX swap target (default '#results')
        - base_url    (str):     base URL to append ?cursor= to
        - total_count (int, optional): total item count hint (may be approximate)
#}
{% set hx_target = hx_target | default('#results') %}
{% set base_url = base_url | default(request.url.path) %}

{% if prev_cursor or next_cursor %}
<nav class="flex items-center justify-between py-3 text-sm" aria-label="Pagination">
    <div class="text-gray-500">
        {% if total_count is defined %}
            {{ total_count | default(0) }} records total
        {% endif %}
    </div>
    <div class="flex gap-2">
        {% if prev_cursor %}
        <a href="{{ base_url }}?cursor={{ prev_cursor }}"
           hx-get="{{ base_url }}?cursor={{ prev_cursor }}"
           hx-target="{{ hx_target }}"
           hx-swap="innerHTML"
           hx-push-url="true"
           class="inline-flex items-center gap-1 px-3 py-1.5 border border-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50 transition-colors">
            <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
            </svg>
            Previous
        </a>
        {% endif %}
        {% if next_cursor %}
        <a href="{{ base_url }}?cursor={{ next_cursor }}"
           hx-get="{{ base_url }}?cursor={{ next_cursor }}"
           hx-target="{{ hx_target }}"
           hx-swap="innerHTML"
           hx-push-url="true"
           class="inline-flex items-center gap-1 px-3 py-1.5 border border-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50 transition-colors">
            Next
            <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
            </svg>
        </a>
        {% endif %}
    </div>
</nav>
{% endif %}
